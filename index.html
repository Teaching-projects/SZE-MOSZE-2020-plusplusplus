<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RPG Game: RPG Game</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RPG Game
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Heroes fight against the Monsters for the glory</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">RPG <a class="el" href="classGame.html" title="It defines a Game board. ">Game</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<object type="image/svg+xml" data="https://github.com/Teaching-projects/SZE-MOSZE-2020-plusplusplus/workflows/Test%20Workflow/badge.svg" alt="Test Workflow"></object>
</div>
 <div class="image">
<object type="image/svg+xml" data="https://github.com/Teaching-projects/SZE-MOSZE-2020-plusplusplus/workflows/Unit%20Tests/badge.svg" alt="Unit Tests"></object>
</div>
 <div class="image">
<object type="image/svg+xml" data="https://github.com/Teaching-projects/SZE-MOSZE-2020-plusplusplus/workflows/Documentation%20workflow/badge.svg" alt="Documentation"></object>
</div>
<p> <a href="https://teaching-projects.github.io/SZE-MOSZE-2020-plusplusplus/"></a></p>
<ul>
<li>Balogh Máté</li>
<li>Baranyai Bence</li>
<li>Karcag Tamás</li>
</ul>
<p><code>Make</code> is useful to have nice and easy commands to run applications. This is the list of commands we have:</p>
<ul>
<li><code>make</code>:<ul>
<li><code>compile</code>: Builds the application (./build/game.out) (<em>default target</em>)</li>
<li><code>run</code>: Executes the built binary (You should add the <code>MODE</code> and <code>FILE</code> parameters)<ul>
<li><code>make run MODE=scenario FILE=scenarios/scenario1.json</code></li>
<li><code>make run MODE=prepare FILE=prepare/prepare1.json</code></li>
</ul>
</li>
<li><code>test</code>: Run all tests</li>
<li><code>unittest</code>: Run unit tests</li>
<li><code>documentation</code>: Generate the documentation</li>
<li><code>memory_leak_check</code>: Run memory leak test</li>
<li><code>static_code_analysis</code>: Run primary and secondary static code analysis</li>
<li><code>clean</code>: Clean built files</li>
</ul>
</li>
</ul>
<p>Compiled application should be called with <b>2</b> parameters, first a game mode (<em>scenario</em> or <em>prepare</em>), and a data file pointing to a <code>json</code> file with a scenario or a prepared scene.</p>
<p>This scenario is describing a hero object and his/her enemies (<em>monsters</em>) object.</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;hero&quot;: &quot;path/to/hero.json&quot;,</div><div class="line">  &quot;monsters&quot;: [</div><div class="line">    &quot;path/to/monster1.json&quot;,</div><div class="line">    &quot;path/to/monster2.json&quot;,</div><div class="line">    &quot;path/to/monster3.json&quot;</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><p>The prepared file also includes a map and the monsters can be numbered, the map here can be also marked.</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;map&quot;: &quot;maps/map2.txt&quot;,</div><div class="line">  &quot;hero&quot;: &quot;units/Dark_Wanderer.json&quot;,</div><div class="line">  &quot;monster-1&quot;: &quot;units/Fallen.json&quot;,</div><div class="line">  &quot;monster-2&quot;: &quot;units/Zombie.json&quot;,</div><div class="line">  &quot;monster-3&quot;: &quot;units/Blood_Raven.json&quot;</div><div class="line">}</div></div><!-- fragment --><p>The <code>hero</code> object is containing a path to the hero's <code>json</code> object what is containing all data for the hero.</p>
<p>Data:</p>
<ul>
<li>Name (<em>name</em>)</li>
<li>Base health points - <b>HP</b> (<em>base_health_points</em>)</li>
<li><a class="el" href="structDamage.html">Damage</a> - <b>DMG</b> (<em>damage</em>) (optional - default 0)</li>
<li><a class="el" href="structDamage.html">Damage</a> - <b>MAGIC DMG</b> (<em>magical_damage</em>) (optional - default 0)</li>
<li>Base attack cooldown - <b>CD</b> (<em>base_attack_cooldown</em>)</li>
<li>Experience per level (<em>experience_per_level</em>)</li>
<li>Health point bonus per level - <b>HP BONUS</b> (<em>health_point_bonus_per_level</em>)</li>
<li><a class="el" href="structDamage.html">Damage</a> bonus per level - <b>DMG BONUS</b> (<em>damage_bonus_per_level</em>) (optional - default 0)</li>
<li>Magical damage bonus per level - <b>MAGIC DMG BONUS</b> (<em>magical_damage_bonus_per_level</em>) (optional - default 0)</li>
<li>Cooldown multiplier per level - <b>CD BONUS</b> (<em>cooldown_multiplier_per_level</em>)</li>
<li>Defense - <b>DEF</b> (<em>defense</em>)</li>
<li>Defense bonus per level - <b>DEF BONUS</b> (<em>defense_bonus_per_level</em>)</li>
<li>Light radius - <b>Visual Range</b> (<em>light_radius</em>)</li>
<li>Light radius per level - <b>Visual Range BONUS</b> (<em>light_radius_bonus_per_level</em>) (default 1)</li>
</ul>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;name&quot;: &quot;Hero&quot;,</div><div class="line">  &quot;base_health_points&quot;: 100,</div><div class="line">  &quot;damage&quot;: 10,</div><div class="line">  &quot;magical_damage&quot;: 4,</div><div class="line">  &quot;base_attack_cooldown&quot;: 12.3,</div><div class="line">  &quot;experience_per_level&quot;: 8,</div><div class="line">  &quot;health_point_bonus_per_level&quot;: 10,</div><div class="line">  &quot;damage_bonus_per_level&quot;: 2,</div><div class="line">  &quot;magical_damage_bonus_per_level&quot;: 1,</div><div class="line">  &quot;cooldown_multiplier_per_level&quot;: 0.2,</div><div class="line">  &quot;defense&quot;: 4,</div><div class="line">  &quot;defense_bonus_per_level&quot;: 1,</div><div class="line">  &quot;light_radius&quot;: 3,</div><div class="line">  &quot;light_radius_bonus_per_level&quot;: 1</div><div class="line">}</div></div><!-- fragment --><p>The <code>monsters</code> array is containing one or more paths for monster <code>json</code> objects.</p>
<p>Data:</p>
<ul>
<li>Name (<em>name</em>)</li>
<li>Health points - <b>HP</b> (<em>base_health_point</em>)</li>
<li><a class="el" href="structDamage.html">Damage</a> - <b>DMG</b> (<em>damage</em>) (optional - default 0)</li>
<li>Magical damage - <b>MAGIC DMG</b> (<em>magical_damage</em>) (optional - default 0)</li>
<li>Attack cooldown - <b>CD</b> (<em>attack_cooldown</em>)</li>
<li>Defense - <b>DEF</b> (<em>defense</em>)</li>
</ul>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;name&quot;: &quot;Monster&quot;,</div><div class="line">  &quot;health_points&quot;: 100,</div><div class="line">  &quot;damage&quot;: 10,</div><div class="line">  &quot;magical_damage&quot;: 9,</div><div class="line">  &quot;attack_cooldown&quot;: 12.3,</div><div class="line">  &quot;defense&quot;: 7</div><div class="line">}</div></div><!-- fragment --><p>Example command: <code>./a.out scenario scenarios/scenario1.json</code></p>
<p>All predefined scenario for the testing can be foind in the <code>scenarios</code> folder. All predefined hero/monster for testing can be found in the <code>units</code> folder.</p>
<p>A <a class="el" href="classMap.html">Map</a> with the extra ability to define the hero and monster positions. Monsters are marked with numbers (0-9) and the hero will be in the <code>H</code> position.</p>
<div class="fragment"><div class="line">##############</div><div class="line"># H #  ####  #</div><div class="line"># ####22##  #</div><div class="line"># 12# 3##  #</div><div class="line">###1# ##  #</div><div class="line">#     1   #</div><div class="line">#########</div></div><!-- fragment --><ul>
<li>Scenario: Only hero and a list of monsters can be given. <a class="el" href="classMap.html">Map</a> and positions are hardcoded.</li>
<li>Prepare: <a class="el" href="classMap.html">Map</a> can be selected and it can contain the position definitions <b>[Recommended mode]</b>.</li>
</ul>
<p>The program read in the given <code>scenario</code> and read in the defined <code>hero</code> and <code>monster</code>. The user can navigate through the map using the right keywords, displayed in first round. The hero start fight with each monster until death, if they step on the same field. If the hero can kill every monster without death, he will be the winner. If he dies, the game is over.</p>
<p>Every player has a attack cooldown what is defining the time between two hit.</p>
<p>Every player is gaining <b>XP</b> (<em>experience points</em>) after each hit. The gained <b>XP</b> is equal with the dealed damage.</p>
<p>Every unit is hit the other with his <b>DMG</b> and <b>MAGICAL DMG</b> amount, but the attacked unit has possiblity to decrease the <b>DMG</b> amount with his <b>DEF</b> points.</p>
<p>After an X amount of <b>XP</b> the character is leveling up. The new level will give him more base <b>HP</b>, <b>DMG</b>, <b>MAGICAL DMG</b> refill the his/her current <b>HP</b> to maximum and reduce the <b>CD</b>.</p>
<p>Using the predefined main function the <code><a class="el" href="classHero.html" title="It defines a RPG attacker Hero. ">Hero</a></code> class handles the logic, using the <code>Json</code> class for file parsing.</p>
<p>The program prints to the output, whether the hero won or not.</p>
<p>We use a <em>bit</em> complex regex matcher to find all key/value pairs. It is looping until it finds new pairs and returns error if more data exists beyond that point. It also parses json arrays with a separate regex matcher, and its values are parsed the same way the normal values (string, int, double).</p>
<p>3 types of parameters can be used with the parse:</p>
<ul>
<li>filename</li>
<li>istream</li>
<li>string (containing json)</li>
</ul>
<p>It supports multiple rendering methods, which can be set for the <code><a class="el" href="classGame.html" title="It defines a Game board. ">Game</a></code> classes with <code>registerRenderer</code> function.</p>
<p><em>Currently</em> It writes <b>HeroTextRenderer</b> to the console output and <b>ObserverTextRenderer</b> to log.txt file.</p>
<p>Supported renderers:</p>
<ul>
<li><code>HeroTextRenderer</code></li>
<li><code>ObserverTextRenderer</code></li>
<li><code>HeroSVGRenderer</code> (<em>coming soon</em>)</li>
<li><code>ObserverSVGRenderer</code> (<em>coming soon</em>)</li>
</ul>
<p>There are predefined players in the <code>units/</code> folder and a <code>expected_results.csv</code> file. The variations in the <code>csv</code> file can be executed automatically using the <code>./run_all.sh</code> script. If a test fails (results not equal) the script quits with error code.</p>
<p>Under the <code>tests/</code> folder cpp test file can be found. The tests use the GTest testing framework and cmake for building.</p>
<p>Usage (without <code>make</code>):</p>
<ul>
<li><code>cd tests</code></li>
<li><code>cmake .</code></li>
<li><code>make</code></li>
<li><code>./tests</code></li>
</ul>
<p>A workflow automatically runs SCA on the repository with two levels using <code>cppcheck</code>. These can be run (without <code>make</code>) with the <code>run_code_analysis_primary.sh</code> and <code>run_code_analysis_primary.sh</code>.</p>
<ul>
<li>Primary<ul>
<li>Check for errors and warnings</li>
</ul>
</li>
<li>Secondary<ul>
<li>Check for style and preformance issues</li>
</ul>
</li>
</ul>
<p><code>run_memory_leak_check.sh</code> executes <code>valgrind</code> to check for memory leaks.</p>
<p>Doxygen automatically generates the documentation for the master branch and it is deployed on GH Pages.</p>
<blockquote class="doxtable">
<p>Url of the Doxygen code documentation: <a href="https://teaching-projects.github.io/SZE-MOSZE-2020-plusplusplus/">Go to documentation</a>. </p>
</blockquote>
<ul>
<li>Install doxygen and graphviz pacakages</li>
<li>Run the next command: <code>doxygen doxygenconf</code></li>
<li>Use the generated documents from the <code>/docs</code> </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
